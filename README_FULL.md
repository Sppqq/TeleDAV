# TeleDAV - WebDAV –°–µ—Ä–≤–µ—Ä —Å Telegram –•—Ä–∞–Ω–∏–ª–∏—â–µ–º

![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue)
![License](https://img.shields.io/badge/license-MIT-green)

**TeleDAV** - —ç—Ç–æ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Python, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Telegram-–±–æ—Ç–∞ –∫–∞–∫ –±—ç–∫–µ–Ω–¥ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤. –°–∏—Å—Ç–µ–º–∞ —ç–º—É–ª–∏—Ä—É–µ—Ç —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É **WebDAV** –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Nextcloud, Synology –∏ –¥—Ä—É–≥–∏–º DAV-–∫–ª–∏–µ–Ω—Ç–∞–º.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÅ **–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** —á–µ—Ä–µ–∑ WebDAV –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ü§ñ **–•—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ Telegram** - —Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Telegram –≥—Ä—É–ø–ø–µ
- üì¶ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤** - —Ñ–∞–π–ª—ã > 49.9 –ú–ë —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ —á–∞—Å—Ç–∏
- ‚ö° **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - —á–∞—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- üè∑Ô∏è **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ —Ç–µ–º–∞–º** - –∫–∞–∂–¥–∞—è –ø–∞–ø–∫–∞ = –æ–¥–Ω–∞ —Ç–µ–º–∞ –≤ Telegram
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - Basic Auth –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ WebDAV
- üíæ **SQLite –ë–î** - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- üê≥ **Docker –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Python 3.10+**
- **FastAPI** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Aiogram 3.4.1** - Telegram API
- **WsgiDAV 4.2.0** - WebDAV —Å–µ—Ä–≤–µ—Ä
- **SQLAlchemy 2.0.25** - ORM
- **SQLite** - –ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î
- **Uvicorn** - ASGI —Å–µ—Ä–≤–µ—Ä

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10 –∏–ª–∏ –≤—ã—à–µ
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
- Telegram Group —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º —Ä–µ–∂–∏–º–æ–º "–¢–µ–º—ã" (Forum)
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Sppqq/TeleDAV.git
cd TeleDAV

# –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞
cp .env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º .env —Å –≤–∞—à–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
nano .env

# –ó–∞–ø—É—Å–∫–∞–µ–º —á–µ—Ä–µ–∑ Docker Compose
docker compose up --build
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/Sppqq/TeleDAV.git
cd TeleDAV

# –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ö–æ–ø–∏—Ä—É–µ–º –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞
cp .env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º .env
nano .env

# –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
python -m teledav.main
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)

```env
# Telegram Bot Configuration
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞_–æ—Ç_botfather
CHAT_ID=ID_–≥—Ä—É–ø–ø—ã_–≥–¥–µ_—Ö—Ä–∞–Ω—è—Ç—Å—è_—Ñ–∞–π–ª—ã  # –ü–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ @getidsbot

# WebDAV Server Configuration
DAV_USERNAME=admin              # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è WebDAV
DAV_PASSWORD=password           # –ü–∞—Ä–æ–ª—å –¥–ª—è WebDAV
DAV_HOST=0.0.0.0              # –ê–¥—Ä–µ—Å —Å–ª—É—à–∞–Ω–∏—è (0.0.0.0 = –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
DAV_PORT=5555                 # –ü–æ—Ä—Ç –¥–ª—è WebDAV (5555 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

# Database Configuration
DATABASE_URL=sqlite+aiosqlite:///teledav.db
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

1. **BOT_TOKEN**:
   - –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É @BotFather
   - –ö–æ–º–∞–Ω–¥–∞ `/newbot`
   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

2. **CHAT_ID**:
   - –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É @getidsbot
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤—å—Ç–µ –µ–≥–æ –≤ –≤–∞—à—É –≥—Ä—É–ø–ø—É
   - –ü–æ–ª—É—á–∏—Ç–µ ID –≥—Ä—É–ø–ø—ã
   - **–í–∞–∂–Ω–æ**: –í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º "–¢–µ–º—ã" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≥—Ä—É–ø–ø—ã

## üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Nextcloud

### macOS / Linux:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo apt-get install davfs2  # –ò–ª–∏ –¥–ª—è macOS: brew install davfs2

# –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
mkdir ~/TeleDAV
sudo mount -t davfs http://localhost:5555/ ~/TeleDAV
# –í–≤–µ–¥–∏—Ç–µ username –∏ password –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ
```

### Windows:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫
2. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ "–≠—Ç–æ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä" ‚Üí "–ü–æ–¥–∫–ª—é—á–∏—Ç—å —Å–µ—Ç–µ–≤–æ–π –¥–∏—Å–∫"
3. –ê–¥—Ä–µ—Å: `http://localhost:5555/`
4. –í—ã–±–µ—Ä–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑–Ω—ã—Ö —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"
5. –í–≤–µ–¥–∏—Ç–µ DAV_USERNAME –∏ DAV_PASSWORD

### Nextcloud:

1. –ó–∞–π–¥–∏—Ç–µ –≤ Nextcloud
2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí External storages
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–∏–ø–∞ WebDAV
4. –ê–¥—Ä–µ—Å: `http://localhost:5555/`
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –ø–∞—Ä–æ–ª—å –∏–∑ .env

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
TeleDAV/
‚îú‚îÄ‚îÄ teledav/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py        # ORM –º–æ–¥–µ–ª–∏ (Folder, File, FileChunk)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service.py       # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service.py       # Telegram Bot –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ handlers.py      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ webdav/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ provider.py      # WebDAV –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.py           # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îî‚îÄ‚îÄ chunking.py      # –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile              # Docker image
‚îú‚îÄ‚îÄ requirements.txt        # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞:

1. –ö–ª–∏–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ WebDAV
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
3. –ï—Å–ª–∏ —Ñ–∞–π–ª > 49.9 –ú–ë, –æ–Ω —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —á–∞—Å—Ç–∏
4. –ö–∞–∂–¥–∞—è —á–∞—Å—Ç—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ Telegram –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
5. –í –ë–î —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–ø—É—Ç—å, —Ä–∞–∑–º–µ—Ä, Message ID)

### –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞:

1. –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ WebDAV
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —á–∞—Å—Ç–µ–π –∏–∑ –ë–î
3. –ß–∞—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ Telegram –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
4. –ß–∞—Å—Ç–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –≤ Telegram:

- –ì—Ä—É–ø–ø–∞ (Chat) ‚Üí –ü–∞–ø–∫–∞ –≤ WebDAV –∫–æ—Ä–Ω–µ
- –¢–µ–º–∞ (Topic) –≤ –≥—Ä—É–ø–ø–µ ‚Üí –ü–æ–¥–ø–∞–ø–∫–∞
- –°–æ–æ–±—â–µ–Ω–∏—è —Å —Ñ–∞–π–ª–∞–º–∏ ‚Üí –ß–∞—Å—Ç–∏ —Ñ–∞–π–ª–æ–≤

## üóÑÔ∏è –ú–æ–¥–µ–ª—å –ë–î

### –¢–∞–±–ª–∏—Ü–∞ `folders`
```
id           | Integer    | Primary Key
name         | String     | –ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏
path         | String     | –ü–æ–ª–Ω—ã–π –ø—É—Ç—å (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
topic_id     | Integer    | Telegram Topic ID
created_at   | DateTime   | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
updated_at   | DateTime   | –î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
```

### –¢–∞–±–ª–∏—Ü–∞ `files`
```
id           | Integer    | Primary Key
folder_id    | Integer    | Foreign Key ‚Üí folders
name         | String     | –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
path         | String     | –ü–æ–ª–Ω—ã–π –ø—É—Ç—å (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
size         | Integer    | –†–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö
mime_type    | String     | Content-Type
created_at   | DateTime   | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
updated_at   | DateTime   | –î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
```

### –¢–∞–±–ª–∏—Ü–∞ `file_chunks`
```
id           | Integer    | Primary Key
file_id      | Integer    | Foreign Key ‚Üí files
chunk_number | Integer    | –ù–æ–º–µ—Ä —á–∞—Å—Ç–∏ (0-based)
size         | Integer    | –†–∞–∑–º–µ—Ä —á–∞—Å—Ç–∏ –≤ –±–∞–π—Ç–∞—Ö
message_id   | Integer    | Telegram Message ID
thread_id    | Integer    | Telegram Thread ID (Topic)
created_at   | DateTime   | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
```

## üìà –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º —Ñ–∞–π–ª–æ–º

–î–æ–ø—É—Å—Ç–∏–º, –∑–∞–≥—Ä—É–∂–∞–µ–º —Ñ–∞–π–ª —Ä–∞–∑–º–µ—Ä–æ–º **100 –ú–ë**:

```
–§–∞–π–ª: document.pdf (100 –ú–ë)
   ‚Üì
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —á–∞—Å—Ç–∏:
   ‚îú‚îÄ‚îÄ Part 0: 49.9 –ú–ë ‚Üí Message –≤ Telegram
   ‚îú‚îÄ‚îÄ Part 1: 49.9 –ú–ë ‚Üí Message –≤ Telegram
   ‚îî‚îÄ‚îÄ Part 2: 0.2 –ú–ë  ‚Üí Message –≤ Telegram
   ‚Üì
–ë–î —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:
   File(id=1, name=document.pdf, size=100MB, folder_id=1)
   ‚îú‚îÄ‚îÄ FileChunk(id=1, chunk_number=0, message_id=12345)
   ‚îú‚îÄ‚îÄ FileChunk(id=2, chunk_number=1, message_id=12346)
   ‚îî‚îÄ‚îÄ FileChunk(id=3, chunk_number=2, message_id=12347)
```

–ü—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ —á–∞—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ.

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **Basic Auth**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è WebDAV –¥–æ—Å—Ç—É–ø–∞
- **Credentials**: –•—Ä–∞–Ω—è—Ç—Å—è –≤ .env (–Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è –≤ git)
- **–ü—Ä–∏–≤–∞—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—É—é Telegram –≥—Ä—É–ø–ø—É
- **–¢–æ–∫–µ–Ω –±–æ—Ç–∞**: –ù–∏–∫–æ–º—É –Ω–µ –¥–µ–ª–∏—Ç–µ—Å—å —Ç–æ–∫–µ–Ω–æ–º

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "unable to start container process"
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Dockerfile –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `python` (–Ω–µ `py`)

### –û—à–∏–±–∫–∞: "–ø–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω" –ø—Ä–∏ docker build
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é `pydantic` –≤ requirements.txt - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å `aiogram`

### Telegram —Ç–µ–º–∞ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- –ì—Ä—É–ø–ø–∞ –∏–º–µ–µ—Ç –≤–∫–ª—é—á–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º "–¢–µ–º—ã"
- –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ –≥—Ä—É–ø–ø–µ

### –§–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å BOT_TOKEN
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å CHAT_ID
- –î–æ—Å—Ç—É–ø –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–µ

## ü§ù –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∫–æ–¥–æ–º

```python
# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
from teledav.db.models import AsyncSessionLocal
from teledav.db.service import DatabaseService
from teledav.bot.service import telegram_service
from teledav.utils.chunking import CHUNK_SIZE

async def upload_file():
    async with AsyncSessionLocal() as session:
        db = DatabaseService(session)
        
        # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É
        folder = await db.create_folder("My Documents", "/My Documents")
        topic_id = await telegram_service.create_topic("My Documents")
        await db.update_folder_topic(folder.id, topic_id)
        
        # –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª
        file = await db.create_file(
            folder.id,
            "document.pdf",
            "/My Documents/document.pdf",
            size=1000000,
            mime_type="application/pdf"
        )
```

## üìù API Endpoints

WebDAV –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

- **GET** - –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª
- **PUT** - –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
- **DELETE** - –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª/–ø–∞–ø–∫—É
- **MKCOL** - –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É
- **PROPFIND** - –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----------|---------|--------|
| BOT_TOKEN | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | 123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew |
| CHAT_ID | ID –≥—Ä—É–ø–ø—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è | -1001234567890 |
| DAV_USERNAME | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è WebDAV | admin |
| DAV_PASSWORD | –ü–∞—Ä–æ–ª—å –¥–ª—è WebDAV | secure_password_123 |
| DAV_HOST | –ê–¥—Ä–µ—Å —Å–ª—É—à–∞–Ω–∏—è | 0.0.0.0 |
| DAV_PORT | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | 5555 |
| DATABASE_URL | Connection string –ë–î | sqlite+aiosqlite:///teledav.db |

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. LICENSE —Ñ–∞–π–ª

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- [aiogram](https://github.com/aiogram/aiogram) - Telegram Bot API
- [FastAPI](https://fastapi.tiangolo.com/) - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- [wsgidav](https://github.com/mar10/wsgidav) - WebDAV —Å–µ—Ä–≤–µ—Ä
- [SQLAlchemy](https://www.sqlalchemy.org/) - ORM

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- GitHub Issues: [–°–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ](https://github.com/Sppqq/TeleDAV/issues)
- –û–±—Å—É–∂–¥–µ–Ω–∏—è: [–ù–∞—á–∞—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏–µ](https://github.com/Sppqq/TeleDAV/discussions)

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –Ø–Ω–≤–∞—Ä—å 2026
